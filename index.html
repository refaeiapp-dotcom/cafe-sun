<!-- Firebase SDK -->
<script type="module">
  // استدعاء المكتبات المطلوبة
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  // إعدادات Firebase الخاصة بتطبيقك
  const firebaseConfig = {
    apiKey: "AIzaSyAYYtMci_1laKbOxpVYaHsMx670WPhtNbk",
    authDomain: "my-restaurant-aba99.firebaseapp.com",
    projectId: "my-restaurant-aba99",
    storageBucket: "my-restaurant-aba99.appspot.com",
    messagingSenderId: "512969391867",
    appId: "1:512969391867:web:36a528665b3469871a3a5e",
    measurementId: "G-XR5ZGKEZK8"
  };

  // تهيئة Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // لما المستخدم يضغط على زر "إتمام الطلب"
  document.getElementById("submitOrder").addEventListener("click", async () => {
    try {
      // مثال: بيانات تجريبية
      const orderData = {
        tableNumber: 5,
        note: document.getElementById("note").value || "بدون ملاحظات",
        createdAt: new Date().toISOString()
      };

      // إضافة البيانات إلى Firestore داخل collection اسمه "orders"
      const docRef = await addDoc(collection(db, "orders"), orderData);

      alert("تم إرسال الطلب بنجاح ✅ \nID: " + docRef.id);
    } catch (e) {
      console.error("Error adding document: ", e);
      alert("حدث خطأ أثناء إرسال الطلب ❌");
    }
  });
</script>
