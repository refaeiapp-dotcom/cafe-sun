<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>مقهى الشمس - طاولة 5</title>
  <style>
    body { font-family: Tahoma, sans-serif; text-align: center; direction: rtl; }
    table { margin: auto; border-collapse: collapse; width: 80%; }
    th, td { border: 1px solid #ccc; padding: 8px; }
    th { background-color: #f2f2f2; }
    button { margin-top: 10px; padding: 10px 20px; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h2>مرحباً بك في مقهى الشمس</h2>
  <h3>رقم الطاولة: 5</h3>
  <p>اختر من القائمة:</p>

  <table id="menuTable">
    <tr>
      <th>الصنف</th>
      <th>السعر</th>
      <th>الكمية</th>
      <th>الإجمالي</th>
      <th>ملاحظات</th>
    </tr>
    <tr>
      <td>شاي</td>
      <td class="price">10</td>
      <td><input type="number" min="0" value="0" class="qty"></td>
      <td class="subtotal">0</td>
      <td><input type="text" class="note"></td>
    </tr>
    <tr>
      <td>قهوة</td>
      <td class="price">15</td>
      <td><input type="number" min="0" value="0" class="qty"></td>
      <td class="subtotal">0</td>
      <td><input type="text" class="note"></td>
    </tr>
    <tr>
      <td>كولا</td>
      <td class="price">12</td>
      <td><input type="number" min="0" value="0" class="qty"></td>
      <td class="subtotal">0</td>
      <td><input type="text" class="note"></td>
    </tr>
  </table>

  <h3>المجموع الكلي: <span id="total">0</span> جنيه</h3>

  <button id="submitBtn">إتمام الطلب</button>
  <button id="payBtn" class="hidden">طلب الحساب</button>

  <script>
    const qtyInputs = document.querySelectorAll(".qty");
    const totalEl = document.getElementById("total");

    qtyInputs.forEach(input => {
      input.addEventListener("input", updateTotals);
    });

    function updateTotals() {
      let total = 0;
      document.querySelectorAll("#menuTable tr").forEach(row => {
        const price = row.querySelector(".price");
        const qty = row.querySelector(".qty");
        const subtotal = row.querySelector(".subtotal");
        if (price && qty && subtotal) {
          let sub = parseInt(price.textContent) * parseInt(qty.value);
          subtotal.textContent = sub;
          total += sub;
        }
      });
      totalEl.textContent = total;
    }

    const submitBtn = document.getElementById("submitBtn");
    const payBtn = document.getElementById("payBtn");

    submitBtn.addEventListener("click", () => {
      document.getElementById("menuTable").classList.add("hidden");
      submitBtn.classList.add("hidden");
      payBtn.classList.remove("hidden");
    });

    payBtn.addEventListener("click", () => {
      alert("طلبك قيد التنفيذ، شكراً!");
    });
  </script>
</body>
</html>
