<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø·Ù„Ø¨ Ù…Ø´Ø±ÙˆØ¨Ø§Øª â€“ Ø·Ø§ÙˆÙ„Ø©</title>

<style>
body{
    font-family:Arial;
    direction:rtl;
    background:#f2f2f2;
    padding:15px;
}

h1{
    text-align:center;
    font-size:22px;
    margin-bottom:15px;
}

/* Ø¹Ù†ØµØ± Ø§Ù„ØµÙ†Ù */
.item{
    background:#fff;
    padding:8px 10px;
    margin-bottom:6px;
    border-radius:6px;
    display:flex;
    align-items:center;
    justify-content:space-between;
}

/* Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù */
.item span{
    font-size:17px;
    font-weight:600;
}

/* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ…ÙŠØ© */
select{
    padding:6px;
    font-size:16px;
    min-width:55px;
    margin-right:10px;
}

/* Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ */
.total{
    background:#fff;
    padding:12px;
    margin-top:12px;
    border-radius:6px;
    text-align:center;
    font-size:20px;
    font-weight:bold;
}

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
button{
    width:100%;
    padding:14px;
    margin-top:8px;
    font-size:18px;
    border:none;
    border-radius:6px;
    color:#fff;
    cursor:pointer;
}

/* Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.pending{background:#dc3545;}
.accepted{background:#28a745;}
.yellow{background:#ffc107;}

.status-text{
    font-size:15px;
    text-align:center;
    margin-bottom:4px;
    color:#444;
}

/* ØªØ­Ø³ÙŠÙ† Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
@media (max-width:600px){
    body{ padding:10px; }
    h1{ font-size:20px; }
}
</style>

</head>
<body>

<h1 id="tableTitle">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª â€“ Ø·Ø§ÙˆÙ„Ø© Ø±Ù‚Ù…</h1>

<!-- Ø§Ù„Ø£ØµÙ†Ø§Ù -->
<div class="item"><span>Ø´Ø§ÙŠ (20)</span>
<select data-price="45"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>Ù‚Ù‡ÙˆØ© (25)</span>
<select data-price="23"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>Ù‚Ù‡ÙˆØ© ÙØ±Ù†Ø³Ø§ÙˆÙŠ (45)</span>
<select data-price="55"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>Ù†Ø³ÙˆÙ† (25)</span>
<select data-price="55"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>Ø­Ù„ÙŠØ© (25)</span>
<select data-price="10"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ÙƒØ§ÙƒØ§Ùˆ (45)</span>
<select data-price="50"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>Ø³Ø­Ù„Ø¨ Ø³Ø§Ø¯Ø© (50)</span>
<select data-price="38"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>Ø³Ø­Ù„Ø¨ Ø¨Ø§Ù„Ù…ÙƒØ³Ø±Ø§Øª (70)</span>
<select data-price="20"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>Ø³Ø­Ù„Ø¨ ÙÙˆØ§ÙƒÙ‡ (70)</span>
<select data-price="12"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="total">
ğŸ’° Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="total">0</span> Ø¬Ù†ÙŠÙ‡
</div>

<div class="status-text" id="orderStatus"></div>
<button id="orderBtn" class="pending">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>

<div class="status-text" id="billStatus"></div>
<button id="billBtn" class="pending">Ø·Ù„Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨</button>

<div class="status-text" id="callStatus"></div>
<button id="callBtn" class="pending">Ù†Ø¯Ø§Ø¡ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Ø·ÙˆØ§Ø±Ø¦)</button>

<div class="status-text">ğŸ“¤ ÙŠØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Ø§Ù„Ù…Ø¯ÙŠØ±)</div>

<!-- Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getDatabase, ref, push, set, onValue, update } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCXk63HWqwQMaNAOrb5HgVRaRgF998I3jo",
  authDomain: "kosharyapp.firebaseapp.com",
  databaseURL: "https://kosharyapp-default-rtdb.firebaseio.com",
  projectId: "kosharyapp",
  storageBucket: "kosharyapp.firebasestorage.app",
  messagingSenderId: "129714098738",
  appId: "1:129714098738:web:aa5c0aab07191dfa2be22b"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const urlParams = new URLSearchParams(window.location.search);
const tableNum = urlParams.get("table") || 1;
document.getElementById("tableTitle").innerText =
`Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª â€“ Ø·Ø§ÙˆÙ„Ø© Ø±Ù‚Ù… ${tableNum}`;

window.onload = function(){
    const selects = document.querySelectorAll("select");
    const totalSpan = document.getElementById("total");

    selects.forEach(s=>{
        s.onchange = ()=>{
            let total=0;
            selects.forEach(el=>{
                total += el.dataset.price * el.value;
            });
            totalSpan.innerText = total;
        };
    });
};
</script>

</body>
</html>
