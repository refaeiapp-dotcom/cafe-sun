<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>ุทูุจ ูุดุฑูุจุงุช โ ุทุงููุฉ</title>

<style>
body{
    font-family:Arial;
    direction:rtl;
    background:#f2f2f2;
    padding:15px;
    font-size:16px; /* ุฒูุงุฏุฉ ุญุฌู ุงูุฎุท ุงูุนุงู */
}

/* ุชูุจูุฑ ุงูุฎุท ุนูู ุงูููุจุงูู */
@media (max-width:600px){
    body { font-size:20px; }
    h1 { font-size:24px; }
    /* ุฌุนู ุงูุนูุงุตุฑ ุฃูุจุฑ ููููุงู ุนูู ุงูููุจุงูู */
    select {
        font-size:18px;
        min-width:65px;
    }
    button {
        font-size:20px;
        padding:16px;
    }
    .item span {
        font-size:20px;
    }
    .total {
        font-size:22px;
    }
}

h1{
    text-align:center;
    font-size:22px;
    margin-bottom:15px;
}

/* ุนูุตุฑ ุงูุตูู */
.item{
    background:#fff;
    padding:8px 10px;
    margin-bottom:6px;
    border-radius:6px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    flex-wrap:wrap; /* ูุณูุญ ุจูู ุงูุนูุงุตุฑ ุนูู ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ */
}

/* ุงุณู ุงูุตูู */
.item span{
    font-size:17px;
    font-weight:600;
    flex:1; /* ูุณูุญ ุจุชูุฏูุฏ ุงููุต ููุฃุฎุฐ ุงููุณุงุญุฉ */
}

/* ุงุฎุชูุงุฑ ุงููููุฉ */
select{
    padding:6px;
    font-size:16px;
    min-width:55px;
    margin-right:10px;
    margin-top:5px;
}

/* ุงููุฌููุน */
.total{
    background:#fff;
    padding:12px;
    margin-top:12px;
    border-radius:6px;
    text-align:center;
    font-size:20px;
    font-weight:bold;
}

/* ุงูุฃุฒุฑุงุฑ */
button{
    width:100%;
    padding:14px;
    margin-top:8px;
    font-size:18px;
    border:none;
    border-radius:6px;
    color:#fff;
    cursor:pointer;
}

/* ุญุงูุงุช ุงูุฃุฒุฑุงุฑ */
.pending{background:#dc3545;}
.accepted{background:#28a745;}
.yellow{background:#ffc107;}

.status-text{
    font-size:15px;
    text-align:center;
    margin-bottom:4px;
    color:#444;
}
</style>

</head>
<body>

<h1 id="tableTitle">ูุงุฆูุฉ ุงูุทูุจุงุช โ ุทุงููุฉ ุฑูู</h1>

<!-- ุงูุฃุตูุงู -->
<div class="item"><span>ุดุงู (20)</span>
<select data-price="45"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ูููุฉ (25)</span>
<select data-price="23"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ูููุฉ ูุฑูุณุงูู (45)</span>
<select data-price="55"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ูุณูู (25)</span>
<select data-price="55"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ุญููุฉ (25)</span>
<select data-price="10"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ูุงูุงู (45)</span>
<select data-price="50"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ุณุญูุจ ุณุงุฏุฉ (50)</span>
<select data-price="38"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ุณุญูุจ ุจุงูููุณุฑุงุช (70)</span>
<select data-price="20"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="item"><span>ุณุญูุจ ููุงูู (70)</span>
<select data-price="12"><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select></div>

<div class="total">
๐ฐ ุงููุฌููุน: <span id="total">0</span> ุฌููู
</div>

<div class="status-text" id="orderStatus"></div>
<button id="orderBtn" class="pending">ุฅุฑุณุงู ุงูุทูุจ</button>

<div class="status-text" id="billStatus"></div>
<button id="billBtn" class="pending">ุทูุจ ุงูุญุณุงุจ</button>

<div class="status-text" id="callStatus"></div>
<button id="callBtn" class="pending">ูุฏุงุก ุงูุฅุฏุงุฑุฉ (ุทูุงุฑุฆ)</button>

<div class="status-text">๐ค ูุชู ุงูุฅุฑุณุงู ุฅูู ููุญุฉ ุงูุชุญูู (ุงููุฏูุฑ)</div>

<!-- Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getDatabase, ref, push, set, onValue, update } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCXk63HWqwQMaNAOrb5HgVRaRgF998I3jo",
  authDomain: "kosharyapp.firebaseapp.com",
  databaseURL: "https://kosharyapp-default-rtdb.firebaseio.com",
  projectId: "kosharyapp",
  storageBucket: "kosharyapp.firebasestorage.app",
  messagingSenderId: "129714098738",
  appId: "1:129714098738:web:aa5c0aab07191dfa2be22b"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const urlParams = new URLSearchParams(window.location.search);
const tableNum = urlParams.get("table") || 1;
document.getElementById("tableTitle").innerText =
`ูุงุฆูุฉ ุงูุทูุจุงุช โ ุทุงููุฉ ุฑูู ${tableNum}`;

window.onload = function(){
    const selects = document.querySelectorAll("select");
    const totalSpan = document.getElementById("total");

    selects.forEach(s=>{
        s.onchange = ()=>{
            let total=0;
            selects.forEach(el=>{
                total += el.dataset.price * el.value;
            });
            totalSpan.innerText = total;
        };
    });
};
</script>

</body>
</html>
